<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Daftar Pengumpulan Tugas</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
    th { background-color: #f2f2f2; }
    form { display: flex; gap: 5px; justify-content: center; }
    input[type="number"] { width: 80px; padding: 5px; }
    button { padding: 5px 10px; cursor: pointer; }
  </style>
</head>
<body>
  <h2>ðŸ“˜ Daftar Pengumpulan Tugas</h2>

  <table>
    <tr>
      <th>ID</th>
      <th>Nama Siswa</th>
      <th>File</th>
      <th>Waktu Submit</th>
      <th>Nilai</th>
      <th>Waktu Dinilai</th>
      <th>Aksi</th>
    </tr>

    {% for s in submissions %}
    <tr>
      <td>{{ s.id }}</td>
      <td>{{ s.student_name }}</td>
      <td>
        {% if s.file_path %}
          <a href="{{ url_for('static', filename='uploads/' ~ s.file_path) }}" target="_blank">Lihat</a>
        {% else %}
          Tidak ada file
        {% endif %}
      </td>
      <td>{{ s.submitted_at }}</td>
      <td>{{ s.grade if s.grade is not none else '-' }}</td>
      <td>{{ s.graded_at if s.graded_at else '-' }}</td>
      <td>
        <form action="{{ url_for('grade_submission', submission_id=s.id) }}" method="POST">
          <input type="number" step="0.01" name="grade" placeholder="Nilai" required>
          <button type="submit">Simpan</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>

</body>
</html>
